{"version":2,"kind":"Article","sha256":"32da43c6ed533d549bed068f647fe3f8873f7654ac37591c19d4bf0fe5082248","slug":"dask","location":"/source/services/DASK/dask.md","dependencies":[],"frontmatter":{"title":"EODC Dask Gateway","content_includes_title":true,"numbering":{"title":{"offset":2}},"exports":[{"format":"md","filename":"dask.md","url":"/dask-8d5149d5948d98d7e119a9219b49891a.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"image","url":"../_static/dask/dask_logo.png","alt":"dask-logo","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lre0lyjpY4"},{"type":"heading","depth":1,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"EODC Dask Gateway","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"l8cI1zquGa"}],"identifier":"eodc-dask-gateway","label":"EODC Dask Gateway","html_id":"eodc-dask-gateway","implicit":true,"key":"BBUFRNzqIO"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"This user documentation provides an overview of Dask Gateway, its setup at EODC, and how to use it for managing and scaling Dask clusters for large-scale data analysis.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"oQUNIxNDya"}],"key":"FH1QYHky1B"},{"type":"heading","depth":2,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"What is Dask Gateway?","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"Mscxi0LPEG"}],"identifier":"what-is-dask-gateway","label":"What is Dask Gateway?","html_id":"what-is-dask-gateway","implicit":true,"key":"kNCuFJkVp2"},{"type":"heading","depth":3,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Overview","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"YqZK95xMa3"}],"identifier":"overview","label":"Overview","html_id":"overview","implicit":true,"key":"NGvj2WV4fK"},{"type":"paragraph","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"EODC offers Dask as a service by utilising ","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"fe0M0UhbP5"},{"type":"link","url":"https://gateway.dask.org/","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Dask Gateway","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"Cv02hqrjqj"}],"urlSource":"https://gateway.dask.org/","key":"Rv9HeuYO1g"},{"type":"text","value":". User can launch a Dask cluster in a shared and managed cluster environment without requring to have direct access to any cloud infrastructure resources such as VMs or Kubernetes clusters. The objetive is to lower the entrance barrier for users to run large scale data analysis on demand and in a scaleable environment.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"JJgx8Ogc5c"}],"key":"SCdIVJcpmj"},{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"An generic introduction of the usage of Dask Gateway can be found on the official ","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"c9X74vDL0Q"},{"type":"link","url":"https://gateway.dask.org/usage.html","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"text","value":"Dask Gateway documentation","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"NtszCrrQvn"}],"urlSource":"https://gateway.dask.org/usage.html","key":"XmoUga6tCM"},{"type":"text","value":". In the following we will demonstrate the use of the Dask service at EODC to further support users.","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"nw3VIWSquE"}],"key":"APlxnPWlvi"},{"type":"heading","depth":3,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"text","value":"Why Choose Dask Gateway at EODC?","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"kaW8BYKhLj"}],"identifier":"why-choose-dask-gateway-at-eodc","label":"Why Choose Dask Gateway at EODC?","html_id":"why-choose-dask-gateway-at-eodc","implicit":true,"key":"zADDAMnnW2"},{"type":"paragraph","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"text","value":"Dask Gateway at EODC is specifically tailored for users who need to perform large-scale data analysis, particularly in the fields of geospatial analysis, time-series data processing, and data science. Hereâ€™s why Dask Gateway is a compelling choice:","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"key":"l5QEB7pbnF"}],"key":"Pq7PhFLkoA"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":19,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":19,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"strong","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"Efficient Resource Management","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"aUB85EdeUG"}],"key":"tR8RtatEpp"},{"type":"text","value":": Dask enables the parallel processing of large datasets across multiple nodes, making it ideal for computationally intensive tasks. This is especially beneficial for users dealing with massive datasets, such as satellite imagery or climate data.","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"yEHG4d8QgJ"}],"key":"HNImhSxv75"}],"key":"QWdMXH7N4F"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"strong","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"text","value":"Flexibility and Scalability","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"MeZKZXC9tu"}],"key":"uhfEigUkiP"},{"type":"text","value":": Unlike traditional systems where users are constrained by the limitations of a single machine, Dask allows users to scale their computations across a cluster of machines. This is particularly useful for projects that require varying levels of computational power over time.","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"MeJDYXEo9I"}],"key":"eX61vZilYV"}],"key":"EKremZ3FrZ"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"strong","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"text","value":"Seamless Integration with Python Ecosystem","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"t6wx3q8A0i"}],"key":"j8IL8oN3Ic"},{"type":"text","value":": Dask is built natively for Python, making it easy to integrate with existing Python-based workflows. This is particularly relevant for data scientists and analysts who already use Python for their projects.","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"CS9XGhVEdB"}],"key":"KsAFy2czNH"}],"key":"dr0DIH6gJc"}],"key":"KjCDE4ufex"},{"type":"heading","depth":3,"position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"Who Should Use Dask Gateway at EODC?","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"uqGKjOiJkN"}],"identifier":"who-should-use-dask-gateway-at-eodc","label":"Who Should Use Dask Gateway at EODC?","html_id":"who-should-use-dask-gateway-at-eodc","implicit":true,"key":"oMtE7neBFa"},{"type":"paragraph","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"Dask Gateway at EODC is suitable for:","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"g3qHiUcZI9"}],"key":"cbOTEZSISg"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":30,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"Researchers and Scientists","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"IhNczKg3hB"}],"key":"vniPk1tUId"},{"type":"text","value":": Who need to process large-scale environmental or geospatial data.","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"wQNsE1pzkE"}],"key":"EmqLjveT64"}],"key":"Zo0fBvvBHy"},{"type":"listItem","spread":true,"position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"Data Scientists","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"bqL2CBJY6h"}],"key":"LZ2A0okYoz"},{"type":"text","value":": Looking to perform advanced data analysis and machine learning on large datasets.","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"ilCCV8BF0g"}],"key":"jg8x3WA0Ln"}],"key":"rZFITiQDRk"},{"type":"listItem","spread":true,"position":{"start":{"line":32,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"children":[{"type":"text","value":"Engineers and Developers","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"MJVhPfpUlx"}],"key":"SpOQCjmpnR"},{"type":"text","value":": Who require scalable computing resources for data processing tasks that exceed the capacity of their local machines.","position":{"start":{"line":32,"column":1},"end":{"line":32,"column":1}},"key":"Wvjfidb23n"}],"key":"eFWsnL4jLf"}],"key":"CPvRtiGWcL"}],"key":"u9aO6F7pcU"},{"type":"paragraph","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"children":[{"type":"text","value":"In summary, if your work involves handling and processing large datasets and you need a scalable, efficient computing environment that minimizes the burden of infrastructure management, Dask Gateway at EODC is an optimal choice.","position":{"start":{"line":34,"column":1},"end":{"line":34,"column":1}},"key":"H9aLJaBOVx"}],"key":"NbLN1ce355"},{"type":"heading","depth":3,"position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"Steps for Authorization:","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"G0tL4jVY3d"}],"identifier":"steps-for-authorization","label":"Steps for Authorization:","html_id":"steps-for-authorization","implicit":true,"key":"O8kWEf1UhH"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":38,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":38,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"strong","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"Authentication via Keycloak","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"THYrPGt10X"}],"key":"hX2dErWITm"},{"type":"text","value":":","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"dUy0tNplbL"}],"key":"I7YMMAjXAE"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":39,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"What It Is","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"TGAZERD5jf"}],"key":"nZrG1RSHIY"},{"type":"text","value":": Keycloak is an identity and access management system that EODC uses to authenticate users. Think of it as a secure gatekeeper that ensures only authorized users can access EODCâ€™s computing resources.","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"ldidI8HurU"}],"key":"hJxpHHNI6j"}],"key":"MWuAFdVgfI"},{"type":"listItem","spread":true,"position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"text","value":"How to Get Access","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"hpRTlAB5lt"}],"key":"IuHjHVxpK5"},{"type":"text","value":": If you do not already have a Keycloak account, you need to request one by emailing the ","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"AKnm3lbUsB"},{"type":"link","url":"mailto:support@eodc.eu","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"text","value":"EODC Support Team","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"IYumy5iF5n"}],"urlSource":"mailto:support@eodc.eu","key":"j14SYW4FJd"},{"type":"text","value":". In your request, include your full name, organization, and the reason you need access. Once your account is set up, you will receive your login credentials.","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"OUoF4IFEeV"}],"key":"miQrpyDnjd"}],"key":"ojEG2c1AmB"},{"type":"listItem","spread":true,"position":{"start":{"line":41,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"text","value":"How It Works","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"cCgZLZnjmF"}],"key":"bZwQuF7hiD"},{"type":"text","value":": After you log in with your EODC credentials, Keycloak issues a JSON Web Token (JWT). This token acts like a digital pass that you will use in your interactions with the EODC Dask Gateway server.","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"PuhpId1I10"}],"key":"KTrb068PfE"}],"key":"wEdVyBBAkb"}],"key":"hfFFdDLHdL"}],"key":"yW6BMTZVVq"},{"type":"listItem","spread":true,"position":{"start":{"line":43,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"strong","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"text","value":"Using a JWT (JSON Web Token)","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"nolXb7ec1F"}],"key":"qfog67ji3i"},{"type":"text","value":":","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"wiRTRN9Wtz"}],"key":"EMSEcjEu9K"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":44,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"text","value":"What It Is","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"pHyyFZn1Vd"}],"key":"aZGDokB0dc"},{"type":"text","value":": A JWT is a secure token that contains information about your identity and permissions. It is automatically generated by Keycloak after you authenticate.","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"rJxHSuEwbd"}],"key":"uYmudcC4Ry"}],"key":"sIHYr4ZnFk"},{"type":"listItem","spread":true,"position":{"start":{"line":45,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"text","value":"Why Itâ€™s Important","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"ukyEAAGtM0"}],"key":"ZYNGQqdKlh"},{"type":"text","value":": The Dask Gateway server checks this token to ensure you have the necessary permissions to access and manage Dask clusters. The token is handled automatically by the system, so you donâ€™t need to manage it manually.","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"jQXRnQwz0K"}],"key":"ReAUF9vfUy"}],"key":"XcloAlFQtQ"}],"key":"Lm7Uuy7Uhj"}],"key":"GFWx1CcXtV"}],"key":"cnBTlFYYlg"},{"type":"heading","depth":2,"position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"text","value":"EODC-Specific Setup","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"arO2IQBT1B"}],"identifier":"eodc-specific-setup","label":"EODC-Specific Setup","html_id":"eodc-specific-setup","implicit":true,"key":"RgCoPKIUb9"},{"type":"paragraph","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"text","value":"At EODC, we provide a robust setup that ensures your data analysis workflows are smooth, scalable, and easy to manage. Hereâ€™s what you need to know:","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"YNmH2ixHp7"}],"key":"Hx06aPxgCh"},{"type":"heading","depth":3,"position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"children":[{"type":"text","value":"Docker at EODC","position":{"start":{"line":51,"column":1},"end":{"line":51,"column":1}},"key":"SSDWdi2xmL"}],"identifier":"docker-at-eodc","label":"Docker at EODC","html_id":"docker-at-eodc","implicit":true,"key":"YvFrhTTxVL"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":53,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":53,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"strong","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"text","value":"What It Is","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"ziTWhv5SMB"}],"key":"z2hAp79H2Z"},{"type":"text","value":": Docker at EODC is used to create portable, consistent, and isolated environments that include not just your Python setup but the entire operating system and any other tools your application might need. This is especially useful for ensuring that your data analysis pipelines run identically on different machines, whether on your local system, EODCâ€™s servers, or in the cloud.","position":{"start":{"line":53,"column":1},"end":{"line":53,"column":1}},"key":"UgdsVtevD4"}],"key":"Ty3AaKWasZ"}],"key":"jmv61vIXOe"},{"type":"listItem","spread":true,"position":{"start":{"line":55,"column":1},"end":{"line":56,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"children":[{"type":"strong","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"children":[{"type":"text","value":"When to Use It","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"Cn9PvDMcph"}],"key":"fLlEpfZs4t"},{"type":"text","value":": Use Docker when your project requires more than just Python librariesâ€”such as specific system tools, dependencies that are difficult to manage with Conda, or when your application needs to run consistently across different environments. Docker is also preferred when deploying applications in production, where reproducibility and isolation are critical.","position":{"start":{"line":55,"column":1},"end":{"line":55,"column":1}},"key":"mijuqosknG"}],"key":"h08vComRqU"}],"key":"kOEuZpm5vb"},{"type":"listItem","spread":true,"position":{"start":{"line":57,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"strong","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"What You Need to Do","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"D23p1kXgoD"}],"key":"BqdfIVHHAD"},{"type":"text","value":": EODC provides a standard Docker image that includes a baseline environment suitable for most data analysis tasks. You can either use this image directly or customize it to include additional dependencies specific to your project.","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"hu9wuyTL1F"}],"key":"pZCwRs9DmG"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":59,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":59,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"children":[{"type":"text","value":"Download the Docker Image:","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"XrBzcHDcQI"}],"key":"Pej6xCs9Rr"}],"key":"HouaO1x3zJ"}],"key":"kliLZxikt7"}],"key":"N48yuxKHrN"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":61,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":61,"column":1},"end":{"line":62,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Pull the pre-built Docker image from EODCâ€™s Docker registry using the following command:","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"R1FMfVDvtY"}],"key":"RLFa4usknK"}],"key":"tmgJxsF02i"}],"key":"lW3rCXhoR4"},{"type":"code","lang":"sh","value":"docker pull registry.eodc.eu/eodc/kathi_test/my-updated-image","position":{"start":{"line":63,"column":1},"end":{"line":65,"column":1}},"key":"I9rwSIokvv"},{"type":"list","ordered":true,"start":2,"spread":false,"position":{"start":{"line":67,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":67,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"children":[{"type":"text","value":"Run the Docker Container:","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"rc9ocat9Gu"}],"key":"Qqt9JdE5cf"}],"key":"QL0r1XDw8S"}],"key":"l1YZdfX3Aj"}],"key":"Uu11flEqCn"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":69,"column":1},"end":{"line":70,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":69,"column":1},"end":{"line":70,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Start the container with the following command, which will launch a Jupyter Notebook server:","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"I7YEreYDH5"}],"key":"B8fNVPs5vp"}],"key":"Bf89D20oEM"}],"key":"fVo0jpkIg3"},{"type":"code","lang":"sh","value":"docker run -p 8888:8888 registry.eodc.eu/eodc/kathi_test/my-updated-image","position":{"start":{"line":71,"column":1},"end":{"line":73,"column":1}},"key":"pECs8eW9UZ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":74,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":74,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Youâ€™ll be provided with a URL containing a token. Open this URL in your browser to access the Jupyter Notebook interface. Please note that the URL is making use of http and not https.","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"key":"TqpxyvUqOy"}],"key":"tUhchs7JX5"}],"key":"s9hY8mnp9e"}],"key":"aELvbKsAhv"},{"type":"list","ordered":true,"start":3,"spread":false,"position":{"start":{"line":76,"column":1},"end":{"line":77,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":76,"column":1},"end":{"line":77,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"children":[{"type":"text","value":"Accessing Dask Gateway:","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"KJbfj17oLM"}],"key":"qXz3ZAcJhQ"}],"key":"BnrHYsmRhr"}],"key":"zzDlyWGYwH"}],"key":"SPg6InkVDC"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":78,"column":1},"end":{"line":81,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":78,"column":1},"end":{"line":79,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"children":[{"type":"text","value":"Inside the Jupyter Notebook, youâ€™ll find pre-configured example-notebook that demonstrate how to connect to and use the Dask Gateway Service at EODC.","position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"key":"y1Lr4wqtjB"}],"key":"wto1qMfimt"}],"key":"QsbagOaQQO"},{"type":"listItem","spread":true,"position":{"start":{"line":80,"column":1},"end":{"line":81,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"children":[{"type":"text","value":"All necessary libraries and configurations are already included in the Docker image, so you can focus on your data analysis without worrying about setup issues.","position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"key":"e6bEhCjoDC"}],"key":"zpPqWfTobA"}],"key":"aQnm6lulaK"}],"key":"c5Ms7vdqj0"},{"type":"list","ordered":true,"start":4,"spread":false,"position":{"start":{"line":82,"column":1},"end":{"line":83,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":82,"column":1},"end":{"line":83,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"children":[{"type":"text","value":"Using the EODC Dask Gateway in Your Notebook:","position":{"start":{"line":82,"column":1},"end":{"line":82,"column":1}},"key":"iXNZZ5yJE2"}],"key":"IEvUUKY3Tn"}],"key":"a9QA2wYIB0"}],"key":"BAfgMzT20y"}],"key":"ivxLIs49mH"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":84,"column":1},"end":{"line":85,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":84,"column":1},"end":{"line":85,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"children":[{"type":"text","value":"Authentication:","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"l9eIeNlU7g"}],"key":"kFqNl74l4f"},{"type":"text","value":" After launching the Jupyter Notebook, authenticate and connect to the EODC Dask Gateway using the code provided in the notebook. The authentication process involves using your Keycloak credentialsâ€”your email as the username and your Keycloak password.","position":{"start":{"line":84,"column":1},"end":{"line":84,"column":1}},"key":"MqeN36p3VC"}],"key":"n1MsdzisQy"}],"key":"QZyEE0gKpN"}],"key":"XAWFivNAjl"},{"type":"code","lang":"python","value":"from eodc_connect.dask import EODCDaskGateway\nfrom rich.console import Console\nfrom rich.prompt import Prompt\n\nconsole = Console()\nyour_username = Prompt.ask(prompt=\"Enter your Username\")\ngateway = EODCDaskGateway(username=your_username)","position":{"start":{"line":86,"column":1},"end":{"line":94,"column":1}},"key":"xbwo8B5Zo4"},{"type":"paragraph","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"children":[{"type":"text","value":"This integration allows seamless access to the Dask Gateway, ensuring you can efficiently scale your computations.","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"key":"UYDwGTOmTr"}],"key":"f6kRKNfuYY"},{"type":"list","ordered":true,"start":5,"spread":false,"position":{"start":{"line":97,"column":1},"end":{"line":98,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":97,"column":1},"end":{"line":98,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"children":[{"type":"text","value":"Connecting and Managing Clusters","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"key":"ljNrpcBfAt"}],"key":"moh5VZ1PqP"},{"type":"text","value":":","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"key":"OdQxqevG0w"}],"key":"jUaHvFeAWq"}],"key":"n86Z4XHBQC"}],"key":"bod2ixjDg6"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":99,"column":1},"end":{"line":100,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":99,"column":1},"end":{"line":100,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"children":[{"type":"text","value":"What You Need to Do","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"JJ2zk5osHM"}],"key":"xJFFresXsR"},{"type":"text","value":": Once authenticated, you can create and manage a Dask cluster using the following commands:","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"F4ZfOELBx0"}],"key":"v77uzMROQt"}],"key":"pMWPAZP9Ht"}],"key":"tZQqygtpBl"},{"type":"code","lang":"python","value":"cluster = gateway.new_cluster()\nclient = cluster.get_client()\ncluster","position":{"start":{"line":101,"column":1},"end":{"line":105,"column":1}},"key":"PycEjqs4Nz"},{"type":"paragraph","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"strong","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"Important: Please use the widget to add/scale the Dask workers. Per default no worker is spawned, therefore no computations can be performed by the cluster.","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"MMfympiRNo"}],"key":"R2tBbXNNZ9"},{"type":"text","value":" If you want to spawn workers directly via Python adaptively, please use the method described in the ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"LvymsfGfjw"},{"type":"crossReference","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"adaptive scaling section","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"DDUA7FQdup"}],"identifier":"adaptive-scaling","label":"adaptive-scaling","kind":"heading","template":"{name}","resolved":true,"html_id":"adaptive-scaling","key":"NGTeJ25Klf"},{"type":"text","value":".","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"pX9Zot89gT"}],"key":"HM06IQzBGH"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":109,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":109,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"children":[{"type":"text","value":"Result","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"jtqNG69IfZ"}],"key":"kFXLvOM3d0"},{"type":"text","value":": This will start a new Dask cluster that you can now use for your data processing tasks.","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"SGj8CV6MTj"}],"key":"vSAEhcv233"}],"key":"IBieEZPuSw"}],"key":"UYpLolecfy"}],"key":"QeGWkpnUuB"}],"key":"dHJCv7A08I"},{"type":"heading","depth":3,"position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"children":[{"type":"text","value":"What to Do if You Encounter Issues","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"key":"hzJbyaltSP"}],"identifier":"what-to-do-if-you-encounter-issues","label":"What to Do if You Encounter Issues","html_id":"what-to-do-if-you-encounter-issues","implicit":true,"key":"ofEqU9snDj"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":114,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":114,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"children":[{"type":"text","value":"Compatibility Issues","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"hX3aQGmT06"}],"key":"VQL0z5vWpk"},{"type":"text","value":": If your code runs into problems because the environment on your local machine is different from the environment on the Dask clusters, try using the EODC-provided Conda environment or Docker image. This ensures everything is set up correctly.","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"EGncLJuM3w"}],"key":"tB7qL829wJ"}],"key":"bKzYx66gn6"}],"key":"sCl8TBD1xd"},{"type":"paragraph","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"children":[{"type":"text","value":"Run the following in order to make sure all dependencies are met:","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"mOUoVjBJVH"}],"key":"CdVC33dgQk"},{"type":"code","lang":"python","value":"!pip install bokeh==2.4.2 dask-gateway==2023.1.1 cloudpickle==2.2.1 s3fs==2023.6.0 fsspec==2023.6.0 xarray==2023.7.0 dask==2023.8.0","position":{"start":{"line":118,"column":1},"end":{"line":120,"column":1}},"key":"lqL6WeCKEF"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":122,"column":1},"end":{"line":124,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":122,"column":1},"end":{"line":124,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"children":[{"type":"text","value":"Need Help?","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"e2ljPbYxuY"}],"key":"P1IGib7qM4"},{"type":"text","value":": If youâ€™re not sure what to do, or if you run into any issues, have a look at the official website of ","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"WZe8cxL8mq"},{"type":"link","url":"https://gateway.dask.org/usage.html","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"children":[{"type":"text","value":"Dask Gateway documentation","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"DgdXu5zZB5"}],"urlSource":"https://gateway.dask.org/usage.html","key":"KNN6PKcQNQ"},{"type":"text","value":" or contact the ","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"DIu3GAjzo4"},{"type":"link","url":"mailto:support@eodc.eu","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"children":[{"type":"text","value":"EODC Support Team","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"N3JPVcyB4g"}],"urlSource":"mailto:support@eodc.eu","key":"IDnDca3GYD"},{"type":"text","value":" for assistance.","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"DjMYW1fskH"}],"key":"hhyKvvPTdx"}],"key":"QOixbbHIus"}],"key":"gliDbZDWBX"},{"type":"heading","depth":2,"position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"text","value":"Cluster Profiles and Configuration at EODC","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"key":"kN5lwxITaH"}],"identifier":"cluster-profiles-and-configuration-at-eodc","label":"Cluster Profiles and Configuration at EODC","html_id":"cluster-profiles-and-configuration-at-eodc","implicit":true,"key":"UDUbo5TuT3"},{"type":"paragraph","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"children":[{"type":"text","value":"At EODC, Dask Gateway is configured with default resource allocations that suit the needs of most users. These settings can be customized according to specific project requirements.","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"VCckNuUlTT"}],"key":"DNYYN5L5sc"},{"type":"heading","depth":3,"position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"text","value":"Default Cluster Configuration","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"YNb3H475ZG"}],"identifier":"default-cluster-configuration","label":"Default Cluster Configuration","html_id":"default-cluster-configuration","implicit":true,"key":"ADrQy6dFvg"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":131,"column":1},"end":{"line":136,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":131,"column":1},"end":{"line":136,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"children":[{"type":"text","value":"Standard Resources","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"wWVizr7ffo"}],"key":"SE4Hb0czVF"},{"type":"text","value":":","position":{"start":{"line":131,"column":1},"end":{"line":131,"column":1}},"key":"WUivr8zYVu"}],"key":"MsngfwV6nH"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":132,"column":1},"end":{"line":136,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"children":[{"type":"text","value":"Scheduler Cores","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"GYs0Vl7RFV"}],"key":"HLx0NqUj5O"},{"type":"text","value":": 2 CPU cores","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"p3U7yhiDT4"}],"key":"KXS5ugZ0Ys"}],"key":"AHNoHr7kpZ"},{"type":"listItem","spread":true,"position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"children":[{"type":"text","value":"Scheduler Memory","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"key":"JVJa5wsPnu"}],"key":"d2jv7z8FbB"},{"type":"text","value":": 4 GB RAM","position":{"start":{"line":133,"column":1},"end":{"line":133,"column":1}},"key":"eImVwTrnAf"}],"key":"vOcjKSzrJt"}],"key":"GOSoiHUpTT"},{"type":"listItem","spread":true,"position":{"start":{"line":134,"column":1},"end":{"line":134,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":134,"column":1},"end":{"line":134,"column":1}},"children":[{"type":"text","value":"Worker Cores","position":{"start":{"line":134,"column":1},"end":{"line":134,"column":1}},"key":"Myrymt1M8m"}],"key":"eS2Za5HZsf"},{"type":"text","value":": 4 CPU cores","position":{"start":{"line":134,"column":1},"end":{"line":134,"column":1}},"key":"a4LBT37ZYt"}],"key":"RWuRMUTDWs"}],"key":"t2vMzBisHp"},{"type":"listItem","spread":true,"position":{"start":{"line":135,"column":1},"end":{"line":136,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"children":[{"type":"text","value":"Worker Memory","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"ElvSVHW2Dl"}],"key":"BBh2mn3KFz"},{"type":"text","value":": 8 GB RAM","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"NDRxyIWdMu"}],"key":"vrMXJovcl6"}],"key":"eYr7jhZd36"}],"key":"Ndvqu7f69O"}],"key":"Zp3in7FNbg"}],"key":"Q75cgNoMW8"},{"type":"paragraph","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"children":[{"type":"text","value":"These settings are the default configuration for most users, providing a balanced environment for typical data processing tasks.","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"key":"ySKvTHCezg"}],"key":"sgl4kOA0Xu"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":139,"column":1},"end":{"line":140,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":139,"column":1},"end":{"line":140,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"children":[{"type":"text","value":"Idle Timeout","position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"key":"pyeRrraDAb"}],"key":"JExlnrt0a3"},{"type":"text","value":": Clusters will automatically shut down after 6 hours of inactivity. This helps to optimize resource usage and minimize costs.","position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"key":"XBXdt1vf7V"}],"key":"w0cgNwGSnX"}],"key":"XYlUae4uiY"}],"key":"O1erg7g8ii"},{"type":"heading","depth":3,"position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"children":[{"type":"text","value":"Exposing and Understanding Cluster Options","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"key":"lfr43CtAXz"}],"identifier":"exposing-and-understanding-cluster-options","label":"Exposing and Understanding Cluster Options","html_id":"exposing-and-understanding-cluster-options","implicit":true,"key":"UGlfP48iYx"},{"type":"paragraph","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"children":[{"type":"text","value":"Before customizing your Dask cluster, itâ€™s important to understand the available options and the limits that are in place to ensure efficient resource usage across EODCâ€™s infrastructure.","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"key":"PCz76ASeHb"}],"key":"yD74l48VxK"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":145,"column":1},"end":{"line":154,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":145,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"children":[{"type":"strong","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"children":[{"type":"text","value":"Available Options","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"key":"n7OLYFp0cl"}],"key":"ZdV6EYsDhe"},{"type":"text","value":": EODC provides predefined cluster options that users can adjust. These include:","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"key":"UCffaulLIr"}],"key":"LnlZP4htac"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":146,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"children":[{"type":"text","value":"Worker Cores","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"key":"UOyCM7E5Ig"}],"key":"kVZTI9hHv5"},{"type":"text","value":" (","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"key":"O6HmdUO0is"},{"type":"inlineCode","value":"worker_cores","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"key":"DH5ShXJuNC"},{"type":"text","value":"): The number of CPU cores allocated per worker.","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"key":"zyxatusDfq"}],"key":"rm5xreBfIy"}],"key":"TGKoxarYrX"},{"type":"listItem","spread":true,"position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"children":[{"type":"text","value":"Worker Memory","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"ZjP01mObqR"}],"key":"DDJVrQc6z0"},{"type":"text","value":" (","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"s4IDisAW87"},{"type":"inlineCode","value":"worker_memory","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"UK159AP5NL"},{"type":"text","value":"): The amount of memory allocated per worker.","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"DBoXaQUwmG"}],"key":"LAPrNOXgCk"}],"key":"ObqDaYuM60"},{"type":"listItem","spread":true,"position":{"start":{"line":148,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"children":[{"type":"text","value":"Docker Image","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"WjrCE8M8F0"}],"key":"uP3MJl6zkP"},{"type":"text","value":" (","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"V06rb22BoN"},{"type":"inlineCode","value":"image","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"taMVS1oYYQ"},{"type":"text","value":"): The Docker image used for the cluster, which can be customized based on specific needs.","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"BmQm107TU8"}],"key":"Q4PYWEFdCJ"}],"key":"wOeuqBi8XH"}],"key":"G8V2VJxEk0"}],"key":"wyHAWdKL5p"},{"type":"listItem","spread":true,"position":{"start":{"line":150,"column":1},"end":{"line":154,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"strong","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"text","value":"Limits and Constraints","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"EghejRMrDE"}],"key":"RjmpsAGqGk"},{"type":"text","value":":","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"iNku5081Uf"}],"key":"uJCBDfy3MJ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":151,"column":1},"end":{"line":154,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"text","value":"Worker Cores","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"MmkDDPJc8K"}],"key":"YNrInWP78i"},{"type":"text","value":": Users can allocate between 2 and 8 CPU cores per worker.","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"J7wdTaEDhY"}],"key":"Emxhw6eRZM"}],"key":"AMEh8Il23n"},{"type":"listItem","spread":true,"position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"children":[{"type":"text","value":"Worker Memory","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"F0KmZIFZ5X"}],"key":"AfNv2zmMPi"},{"type":"text","value":": Users can allocate between 2 GB and 16 GB of RAM per worker.","position":{"start":{"line":152,"column":1},"end":{"line":152,"column":1}},"key":"EhgW7ZCOok"}],"key":"BeiAWJruH0"}],"key":"y4mO6Zg76t"},{"type":"listItem","spread":true,"position":{"start":{"line":153,"column":1},"end":{"line":154,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"These limits are set to ensure fair usage of resources and to prevent any single user or task from monopolizing the clusterâ€™s capacity.","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"oKmasBUjuu"}],"key":"zhiZxGrdE5"}],"key":"bApjNKgATt"}],"key":"UB5D7aTcm2"}],"key":"yIZa2BEU0B"}],"key":"tFofLMC9Nn"},{"type":"heading","depth":3,"position":{"start":{"line":155,"column":1},"end":{"line":155,"column":1}},"children":[{"type":"text","value":"Customizing Cluster Options","position":{"start":{"line":155,"column":1},"end":{"line":155,"column":1}},"key":"sOGH9LVwOP"}],"identifier":"customizing-cluster-options","label":"Customizing Cluster Options","html_id":"customizing-cluster-options","implicit":true,"key":"QEvByVTnJl"},{"type":"paragraph","position":{"start":{"line":157,"column":1},"end":{"line":157,"column":1}},"children":[{"type":"text","value":"Once you understand the available options and the constraints in place, you can customize your Dask cluster configuration to better align with your projectâ€™s requirements.","position":{"start":{"line":157,"column":1},"end":{"line":157,"column":1}},"key":"ZfGa0DTWxR"}],"key":"Yqc858ghOL"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":159,"column":1},"end":{"line":168,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":159,"column":1},"end":{"line":168,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":159,"column":1},"end":{"line":159,"column":1}},"children":[{"type":"strong","position":{"start":{"line":159,"column":1},"end":{"line":159,"column":1}},"children":[{"type":"text","value":"Adjusting Resources","position":{"start":{"line":159,"column":1},"end":{"line":159,"column":1}},"key":"USLZecOge0"}],"key":"fQwHHww5MW"},{"type":"text","value":": Based on your needs, you can modify the cluster options within the allowed limits. Hereâ€™s an example:","position":{"start":{"line":159,"column":1},"end":{"line":159,"column":1}},"key":"vstoAZMSYy"}],"key":"pTDKzSUiJN"},{"type":"code","lang":"python","value":"cluster_options = gateway.cluster_options()\ncluster_options.worker_cores = 4  # Set the number of CPU cores per worker (within the range 2-8)\ncluster_options.worker_memory = \"8GB\"  # Set the memory allocation per worker (within the range 2-16 GB)\ncluster = gateway.new_cluster(cluster_options)","position":{"start":{"line":161,"column":1},"end":{"line":166,"column":1}},"key":"ne8BVYx5m6"}],"key":"bbcGyKwAk0"}],"key":"djh091eskg"},{"type":"heading","depth":2,"position":{"start":{"line":169,"column":1},"end":{"line":169,"column":1}},"children":[{"type":"text","value":"Managing Your Dask Cluster","position":{"start":{"line":169,"column":1},"end":{"line":169,"column":1}},"key":"VglP5Dz0lc"}],"identifier":"managing-your-dask-cluster","label":"Managing Your Dask Cluster","html_id":"managing-your-dask-cluster","implicit":true,"key":"SrXmUC7BHa"},{"type":"paragraph","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"children":[{"type":"text","value":"After setting up your Dask cluster, there are several important operations you can perform to manage your computational resources efficiently.","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"key":"BI1dTy5ZAE"}],"key":"OgHVp5t3b9"},{"type":"heading","depth":3,"position":{"start":{"line":173,"column":1},"end":{"line":173,"column":1}},"children":[{"type":"text","value":"Adaptive Scaling","position":{"start":{"line":173,"column":1},"end":{"line":173,"column":1}},"key":"PR7oaEponl"}],"identifier":"adaptive-scaling","label":"Adaptive Scaling","html_id":"adaptive-scaling","implicit":true,"key":"e7vUzQBLRa"},{"type":"paragraph","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"children":[{"type":"text","value":"Adaptive scaling allows your Dask cluster to automatically adjust the number of workers based on the current workload. This ensures that you have enough computational resources when needed, while minimizing costs when the cluster is idle.","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"key":"dAzD7wDNSR"}],"key":"RlHcpDEL7m"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":177,"column":1},"end":{"line":189,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":177,"column":1},"end":{"line":185,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"children":[{"type":"strong","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"children":[{"type":"text","value":"Enabling Adaptive Scaling","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"key":"Qgs0QpO5Tt"}],"key":"iA9GQA7bRB"},{"type":"text","value":":","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"key":"XNMLRouW3m"}],"key":"b8mFBDOKyi"},{"type":"paragraph","position":{"start":{"line":179,"column":1},"end":{"line":179,"column":1}},"children":[{"type":"text","value":"To enable adaptive scaling, use the following command:","position":{"start":{"line":179,"column":1},"end":{"line":179,"column":1}},"key":"GemboJXibm"}],"key":"l643ztuBsU"},{"type":"code","lang":"python","value":"cluster.adapt(minimum=2, maximum=8)","position":{"start":{"line":181,"column":1},"end":{"line":183,"column":1}},"key":"pTL7kO1lwS"},{"type":"paragraph","position":{"start":{"line":184,"column":1},"end":{"line":184,"column":1}},"children":[{"type":"text","value":"In this example, the cluster will start with 2 workers and can scale up to a maximum of 8 workers depending on the workload. Dask will add or remove workers automatically based on the tasks being processed.","position":{"start":{"line":184,"column":1},"end":{"line":184,"column":1}},"key":"BxRNdkXTW1"}],"key":"FVwh88i8Yz"}],"key":"e9s6Hz0g8I"},{"type":"listItem","spread":true,"position":{"start":{"line":186,"column":1},"end":{"line":189,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":186,"column":1},"end":{"line":186,"column":1}},"children":[{"type":"strong","position":{"start":{"line":186,"column":1},"end":{"line":186,"column":1}},"children":[{"type":"text","value":"Why Use Adaptive Scaling","position":{"start":{"line":186,"column":1},"end":{"line":186,"column":1}},"key":"mzy98e6afI"}],"key":"HIbdJSWUJP"},{"type":"text","value":":","position":{"start":{"line":186,"column":1},"end":{"line":186,"column":1}},"key":"BHAngXPeM1"}],"key":"RC21gCWkVu"},{"type":"paragraph","position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"children":[{"type":"text","value":"Adaptive scaling is useful when your workload varies significantly over time, as it ensures that your cluster is always optimally sized for the tasks at hand, avoiding over-provisioning and unnecessary costs.","position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"key":"NL0KAwXR6d"}],"key":"KJO97mtrkf"}],"key":"D1LAsXSH48"}],"key":"BtFJIV3Z3w"},{"type":"heading","depth":3,"position":{"start":{"line":190,"column":1},"end":{"line":190,"column":1}},"children":[{"type":"text","value":"Connecting to an Existing Cluster","position":{"start":{"line":190,"column":1},"end":{"line":190,"column":1}},"key":"CwMTzgXART"}],"identifier":"connecting-to-an-existing-cluster","label":"Connecting to an Existing Cluster","html_id":"connecting-to-an-existing-cluster","implicit":true,"key":"qLW3DDoSGD"},{"type":"paragraph","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"children":[{"type":"text","value":"Sometimes you might need to reconnect to a Dask cluster that is already running, either to continue working or to monitor its status.","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"key":"xt8oxV5AwP"}],"key":"EQWKCtAmBN"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":194,"column":1},"end":{"line":205,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":194,"column":1},"end":{"line":205,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"children":[{"type":"strong","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"children":[{"type":"text","value":"How to Connect","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"t8g0PQN7Js"}],"key":"NLNHKAKXQ3"},{"type":"text","value":":","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"s0Efl2fEeI"}],"key":"SneSb5I1rP"},{"type":"paragraph","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"children":[{"type":"text","value":"If you have a list of existing clusters, you can connect to one using its name or ID:","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"key":"MZdjgp6vr7"}],"key":"MOWkKCsgev"},{"type":"code","lang":"python","value":"clusters = gateway.list_clusters()\ncluster = gateway.connect(cluster_name=clusters[0].name)\nclient = cluster.get_client()","position":{"start":{"line":198,"column":1},"end":{"line":202,"column":1}},"key":"s4WdkHdmec"},{"type":"paragraph","position":{"start":{"line":203,"column":1},"end":{"line":203,"column":1}},"children":[{"type":"text","value":"This will allow you to interact with the cluster as if it were newly created, enabling you to submit new tasks or monitor ongoing computations.","position":{"start":{"line":203,"column":1},"end":{"line":203,"column":1}},"key":"zK9tvixyBy"}],"key":"GxhoGLgLkS"}],"key":"agC1VDWdJK"}],"key":"xu53PJ1Yxe"},{"type":"heading","depth":3,"position":{"start":{"line":206,"column":1},"end":{"line":206,"column":1}},"children":[{"type":"text","value":"Stopping a Cluster","position":{"start":{"line":206,"column":1},"end":{"line":206,"column":1}},"key":"jyUBMI9ikw"}],"identifier":"stopping-a-cluster","label":"Stopping a Cluster","html_id":"stopping-a-cluster","implicit":true,"key":"HJP2N4HPbe"},{"type":"paragraph","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"children":[{"type":"text","value":"When youâ€™re done with your computations, itâ€™s important to stop the cluster to free up resources and avoid unnecessary costs.","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"eIvLnXlFjH"}],"key":"VoLt2lovsX"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":210,"column":1},"end":{"line":223,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":210,"column":1},"end":{"line":216,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":210,"column":1},"end":{"line":211,"column":1}},"children":[{"type":"strong","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"children":[{"type":"text","value":"Stopping a Single Cluster","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"key":"I1uJlTWqQW"}],"key":"hAZP1hF9BG"},{"type":"text","value":":\nTo stop a cluster and release its resources, use the following command:","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"key":"nBlioynCjZ"}],"key":"Ix2GB1Fi5p"},{"type":"code","lang":"python","value":"cluster.shutdown()","position":{"start":{"line":213,"column":1},"end":{"line":215,"column":1}},"key":"blw1ARPFcr"}],"key":"xm6PtMWYgP"},{"type":"listItem","spread":true,"position":{"start":{"line":217,"column":1},"end":{"line":223,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":217,"column":1},"end":{"line":217,"column":1}},"children":[{"type":"strong","position":{"start":{"line":217,"column":1},"end":{"line":217,"column":1}},"children":[{"type":"text","value":"Or for multiple clusters","position":{"start":{"line":217,"column":1},"end":{"line":217,"column":1}},"key":"hLQT8oLIuY"}],"key":"EpzQQzTsM7"},{"type":"text","value":":","position":{"start":{"line":217,"column":1},"end":{"line":217,"column":1}},"key":"T2AT937SE2"}],"key":"L9OOzYR5gO"},{"type":"code","lang":"python","value":"for cluster in clusters: \ncluster.shutdown()","position":{"start":{"line":219,"column":1},"end":{"line":222,"column":1}},"key":"VXAMXF3qUI"}],"key":"bejsp7XLzM"}],"key":"W7qVQtXwsE"},{"type":"paragraph","position":{"start":{"line":224,"column":1},"end":{"line":224,"column":1}},"children":[{"type":"text","value":"This ensures that all resources are properly freed, and no unnecessary charges are incurred.","position":{"start":{"line":224,"column":1},"end":{"line":224,"column":1}},"key":"ALylXAjb4Y"}],"key":"LfZSSZJmKG"},{"type":"heading","depth":2,"position":{"start":{"line":226,"column":1},"end":{"line":226,"column":1}},"children":[{"type":"text","value":"Display Dask Dashboard to monitor execution of computations","position":{"start":{"line":226,"column":1},"end":{"line":226,"column":1}},"key":"EBcJk9OalD"}],"identifier":"display-dask-dashboard-to-monitor-execution-of-computations","label":"Display Dask Dashboard to monitor execution of computations","html_id":"display-dask-dashboard-to-monitor-execution-of-computations","implicit":true,"key":"mBdsVIG43D"},{"type":"paragraph","position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"children":[{"type":"text","value":"Dask Gateway provides a dashboard to monitor your clusterâ€™s performance. Copy the following link into a browser of your choice. Please consider the dashboard URL provided is making use of http and not https.","position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"key":"jCubOzvYYr"}],"key":"MQYHz0MENg"},{"type":"code","lang":"python","value":"cluster.dashboard_link\nprint(f\"Dashboard link: {dashboard_link}\")","position":{"start":{"line":230,"column":1},"end":{"line":233,"column":1}},"key":"aujWDZhlnj"},{"type":"paragraph","position":{"start":{"line":234,"column":1},"end":{"line":234,"column":1}},"children":[{"type":"text","value":"Open the provided URL in your web browser to view the dashboard. The dashboard provides visualizations of task progress, memory usage, CPU usage, and more, which are crucial for optimizing and troubleshooting your computations.","position":{"start":{"line":234,"column":1},"end":{"line":234,"column":1}},"key":"q2emCNBCTr"}],"key":"XTMCBvHoyU"},{"type":"heading","depth":3,"position":{"start":{"line":237,"column":1},"end":{"line":237,"column":1}},"children":[{"type":"text","value":"Example","position":{"start":{"line":237,"column":1},"end":{"line":237,"column":1}},"key":"NahaTuFeGJ"}],"identifier":"example","label":"Example","html_id":"example","implicit":true,"key":"WfeX8sN8EC"},{"type":"code","lang":"python","value":"import s3fs\nimport xarray as xr\n\ns3fs_central = s3fs.S3FileSystem(\n    anon=True,\n    use_ssl=True,\n    client_kwargs={\"endpoint_url\": \"https://s3.central.data.destination-earth.eu\"})\n\ns3fs_lumi = s3fs.S3FileSystem(\n    anon=True,\n    use_ssl=True,\n    client_kwargs={\"endpoint_url\": \"https://s3.lumi.data.destination-earth.eu\"})","position":{"start":{"line":239,"column":1},"end":{"line":252,"column":1}},"key":"ioPV1HfNzR"},{"type":"code","lang":"python","value":"s3fs_central.ls(\"increment1-testdata\")","position":{"start":{"line":254,"column":1},"end":{"line":256,"column":1}},"key":"f2UezuItnd"},{"type":"paragraph","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"children":[{"type":"text","value":"Read data stored in S3 bucket at central site (Poland). The data we want to read is a single Zarr data store representing GFM flood data over Pakistan for 2022-08-30","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"key":"h3hTxx58M0"}],"key":"La8uYDqf0A"},{"type":"code","lang":"python","value":"flood_map = xr.open_zarr(store=s3fs.S3Map(root=f\"increment1-testdata/2022-08-30.zarr\", s3=s3fs_central, check=False),\n                         decode_coords=\"all\",)[\"flood\"].assign_attrs(location=\"central\", resolution=20)\nflood_map","position":{"start":{"line":260,"column":1},"end":{"line":264,"column":1}},"key":"sIZchkuqhD"},{"type":"paragraph","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"children":[{"type":"text","value":"Run simple computation and compute the flooded area:","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"ywi1tqdvrj"}],"key":"fpoVY48o8s"},{"type":"code","lang":"python","value":"flooded_area_ = flood_map.sum()*20*20/1000.\nflooded_area_","position":{"start":{"line":268,"column":1},"end":{"line":271,"column":1}},"key":"VnxLkeynoK"},{"type":"paragraph","position":{"start":{"line":273,"column":1},"end":{"line":273,"column":1}},"children":[{"type":"text","value":"So far we havenâ€™t computed anything, so lets do the computation now on the Dask cluster.","position":{"start":{"line":273,"column":1},"end":{"line":273,"column":1}},"key":"To5PkLQjmi"}],"key":"A0IygGtPFr"},{"type":"code","lang":"python","value":"flooded_area = client.compute(flooded_area_, sync=True)\nconsole.print(f\"Flooded area: {flooded_area.data}km2\")","position":{"start":{"line":276,"column":1},"end":{"line":279,"column":1}},"key":"yY4hdJUQEr"},{"type":"paragraph","position":{"start":{"line":281,"column":1},"end":{"line":281,"column":1}},"children":[{"type":"text","value":"Read data stored in S3 bucket at LUMI bridge (Finland). Data we want to read is a datacube generated from ERA-5 representing predicted rainfall data.","position":{"start":{"line":281,"column":1},"end":{"line":281,"column":1}},"key":"sfuCxWInTg"}],"key":"wsT1RLjhAk"},{"type":"code","lang":"python","value":"rainfall = xr.open_zarr(store=s3fs.S3Map(root=f\"increment1-testdata/predicted_rainfall.zarr\",\n                                         s3=s3fs_lumi,\n                                         check=False),\n                        decode_coords=\"all\",)[\"tp\"].assign_attrs(location=\"lumi\", resolution=20)\nrainfall","position":{"start":{"line":283,"column":1},"end":{"line":289,"column":1}},"key":"oans2DuYic"},{"type":"code","lang":"python","value":"from datetime import datetime\nfrom attr import dataclass\n\ndef accum_rain_predictions(rain_data, startdate, enddate, extent):\n    rain_ = rain_data.sel(time=slice(startdate, enddate),\n                          latitude=slice(extent.max_y, extent.min_y),\n                          longitude=slice(extent.min_x, extent.max_x))\n    return rain_.cumsum(dim=\"time\", keep_attrs=True)*1000\n\n@dataclass\nclass Extent:\n    min_x: float\n    min_y: float\n    max_x: float\n    max_y: float\n    crs: str\n\n# compute accumulated rainfall over Pakistan\nroi_extent = Extent(65, 21, 71, 31, crs='EPSG:4326')\nacc_rain_ = accum_rain_predictions(rainfall, startdate=datetime(2022, 8, 18),\n                                             enddate=datetime(2022, 8, 30),\n                                             extent=roi_extent)\n\n# compute average rainfall for August 2022\nrain_ = rainfall.sel(time=slice(datetime(2022, 8, 1), datetime(2022, 8, 30))).mean(dim=\"time\", keep_attrs=True)*1000\nrain_","position":{"start":{"line":292,"column":1},"end":{"line":319,"column":1}},"key":"pMawEuOW4S"},{"type":"paragraph","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"children":[{"type":"text","value":"And again run the computation on our EODC Dask cluster. First we compute the accumulated rainfall over Pakistan. Secondly we compute the average rainfall for August 2022 (monthly mean) at global scale.","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"key":"Pfy64zrURy"}],"key":"e2PLF4pDza"},{"type":"code","lang":"python","value":"acc_rain = client.compute(acc_rain_, sync=True)\nacc_rain\nmean_rain = client.compute(rain_, sync=True)\nmean_rain","position":{"start":{"line":323,"column":1},"end":{"line":328,"column":1}},"key":"tTx635ymef"},{"type":"paragraph","position":{"start":{"line":330,"column":1},"end":{"line":330,"column":1}},"children":[{"type":"text","value":"Plot a histogram of the accumlated rainfall computed for Pakistan.","position":{"start":{"line":330,"column":1},"end":{"line":330,"column":1}},"key":"zGNQN2nPMY"}],"key":"Xp7FoqJwly"},{"type":"code","lang":"python","value":"acc_rain.plot()","position":{"start":{"line":332,"column":1},"end":{"line":334,"column":1}},"key":"bh0LJ1DBQA"},{"type":"image","url":"../_static/dask/hist_acc_rainfall.png","alt":"image","position":{"start":{"line":335,"column":1},"end":{"line":335,"column":1}},"key":"wWdcNJvj5w"},{"type":"code","lang":"python","value":"cluster.close(shutdown=True)","position":{"start":{"line":337,"column":1},"end":{"line":339,"column":1}},"key":"M3SGRMw8rP"},{"type":"heading","depth":2,"position":{"start":{"line":340,"column":1},"end":{"line":340,"column":1}},"children":[{"type":"text","value":"Additional Considerations","position":{"start":{"line":340,"column":1},"end":{"line":340,"column":1}},"key":"uCykaIWmfT"}],"identifier":"additional-considerations","label":"Additional Considerations","html_id":"additional-considerations","implicit":true,"key":"cPh516eA4c"},{"type":"paragraph","position":{"start":{"line":342,"column":1},"end":{"line":342,"column":1}},"children":[{"type":"text","value":"When working with Dask Gateway at EODC, it is essential to ensure that your computing environment is properly configured to handle the scale and complexity of the tasks you intend to perform. Always monitor the performance of your clusters and adjust resources accordingly to optimize both efficiency and cost. For advanced use cases, refer to the official ","position":{"start":{"line":342,"column":1},"end":{"line":342,"column":1}},"key":"O0WwMVpTBX"},{"type":"link","url":"https://gateway.dask.org/usage.html","position":{"start":{"line":342,"column":1},"end":{"line":342,"column":1}},"children":[{"type":"text","value":"Dask Gateway documentation","position":{"start":{"line":342,"column":1},"end":{"line":342,"column":1}},"key":"XseYQ2cvBU"}],"urlSource":"https://gateway.dask.org/usage.html","key":"sfkzJ8oGS1"},{"type":"text","value":" and consider reaching out to the ","position":{"start":{"line":342,"column":1},"end":{"line":342,"column":1}},"key":"e6NCXccwIz"},{"type":"link","url":"mailto:support@eodc.eu","position":{"start":{"line":342,"column":1},"end":{"line":342,"column":1}},"children":[{"type":"text","value":"EODC Support Team","position":{"start":{"line":342,"column":1},"end":{"line":342,"column":1}},"key":"G5vfswmibX"}],"urlSource":"mailto:support@eodc.eu","key":"CVF1SX8mMa"},{"type":"text","value":" for further assistance.","position":{"start":{"line":342,"column":1},"end":{"line":342,"column":1}},"key":"ilIrWDiBLK"}],"key":"OKdh3ogByk"}],"key":"eYR3kRZanz"}],"key":"FVyZZNzC1q"},"references":{"cite":{"order":[],"data":{}}}}